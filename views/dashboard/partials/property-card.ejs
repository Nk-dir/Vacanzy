<div class="card h-100">
    <% if (property.images && property.images.length > 0) { %>
        <img src="<%= property.images[0].url %>" class="card-img-top" alt="<%= property.title %>" style="height: 200px; object-fit: cover;">
    <% } else { %>
        <div class="card-img-top d-flex align-items-center justify-content-center bg-light" style="height: 200px;">
            <i class="fas fa-home fa-3x text-muted"></i>
        </div>
    <% } %>
    
    <div class="card-body d-flex flex-column">
        <h5 class="card-title"><%= property.title %></h5>
        <p class="text-muted mb-2">
            <i class="fas fa-map-marker-alt me-1"></i>
            <%= property.location %>
        </p>
        
        <p class="card-text text-truncate" style="max-height: 3em; overflow: hidden;">
            <%= property.description %>
        </p>
        
        <div class="row mb-2">
            <div class="col-6">
                <small class="text-muted">Price per night</small>
                <div class="fw-bold text-success">$<%= property.price.toLocaleString() %></div>
            </div>
            <div class="col-6">
                <small class="text-muted">Listed on</small>
                <div class="small">
                    <%= new Date(property.createdAt).toLocaleDateString('en-US', { 
                        month: 'short', 
                        day: 'numeric', 
                        year: 'numeric' 
                    }) %>
                </div>
            </div>
        </div>
        
        <div class="mt-auto">
            <div class="d-grid gap-2">
                <a href="/listings/<%= property._id %>" class="btn btn-outline-primary btn-sm">
                    <i class="fas fa-eye me-1"></i>View Listing
                </a>
                <div class="btn-group" role="group">
                    <a href="/listings/<%= property._id %>/edit" class="btn btn-outline-secondary btn-sm">
                        <i class="fas fa-edit me-1"></i>Edit
                    </a>
                    <button class="btn btn-outline-info btn-sm" onclick="viewPropertyStats('<%= property._id %>')">
                        <i class="fas fa-chart-bar me-1"></i>Stats
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>